<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>shared&#x2F;utils&#x2F;micro-template.js - Eve Ship Comparator API</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.8.0pr2&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.8.0pr2&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title="Eve Ship Comparator API"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.0.1</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/esc.Capacitor.html">esc.Capacitor</a></li>
            
                <li><a href="..&#x2F;classes/esc.Capacity.html">esc.Capacity</a></li>
            
                <li><a href="..&#x2F;classes/esc.CompareView.html">esc.CompareView</a></li>
            
                <li><a href="..&#x2F;classes/esc.Criteria.html">esc.Criteria</a></li>
            
                <li><a href="..&#x2F;classes/esc.DamageProfile.html">esc.DamageProfile</a></li>
            
                <li><a href="..&#x2F;classes/esc.Database.html">esc.Database</a></li>
            
                <li><a href="..&#x2F;classes/esc.Drones.html">esc.Drones</a></li>
            
                <li><a href="..&#x2F;classes/esc.Heat.html">esc.Heat</a></li>
            
                <li><a href="..&#x2F;classes/esc.HpPool.html">esc.HpPool</a></li>
            
                <li><a href="..&#x2F;classes/esc.JumpDrive.html">esc.JumpDrive</a></li>
            
                <li><a href="..&#x2F;classes/esc.MicroTemplate.html">esc.MicroTemplate</a></li>
            
                <li><a href="..&#x2F;classes/esc.Promise.html">esc.Promise</a></li>
            
                <li><a href="..&#x2F;classes/esc.Promise.Resolver.html">esc.Promise.Resolver</a></li>
            
                <li><a href="..&#x2F;classes/esc.Query.html">esc.Query</a></li>
            
                <li><a href="..&#x2F;classes/esc.Select.html">esc.Select</a></li>
            
                <li><a href="..&#x2F;classes/esc.Sensors.html">esc.Sensors</a></li>
            
                <li><a href="..&#x2F;classes/esc.Shield.html">esc.Shield</a></li>
            
                <li><a href="..&#x2F;classes/esc.Ship.html">esc.Ship</a></li>
            
                <li><a href="..&#x2F;classes/esc.Skill.html">esc.Skill</a></li>
            
                <li><a href="..&#x2F;classes/esc.SkillRequirement.html">esc.SkillRequirement</a></li>
            
                <li><a href="..&#x2F;classes/esc.SkillRequirements.html">esc.SkillRequirements</a></li>
            
                <li><a href="..&#x2F;classes/esc.Slots.html">esc.Slots</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/esc-compare-view.html">esc-compare-view</a></li>
            
                <li><a href="..&#x2F;modules/esc-hp-pool.html">esc-hp-pool</a></li>
            
                <li><a href="..&#x2F;modules/esc-micro-template.html">esc-micro-template</a></li>
            
                <li><a href="..&#x2F;modules/esc-promise.html">esc-promise</a></li>
            
                <li><a href="..&#x2F;modules/esc-select.html">esc-select</a></li>
            
                <li><a href="..&#x2F;modules/esc-ship.html">esc-ship</a></li>
            
                <li><a href="..&#x2F;modules/esc-ship-properties.html">esc-ship-properties</a></li>
            
                <li><a href="..&#x2F;modules/esc-skill.html">esc-skill</a></li>
            
                <li><a href="..&#x2F;modules/esc-sqlite.html">esc-sqlite</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: shared&#x2F;utils&#x2F;micro-template.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;*global YUI*&#x2F;

&#x2F;**
 @module esc-micro-template
 @namespace esc
 *&#x2F;
YUI.add(&#x27;esc-micro-template&#x27;, function (Y) {
    &quot;use strict&quot;;

    var NS = Y.namespace(&#x27;esc&#x27;),
        MicroTemplate = {};

    &#x2F;**
     @class MicroTemplate
     *&#x2F;

    &#x2F;**
     @property OPTIONS
     @static
     *&#x2F;
    MicroTemplate.OPTIONS = {
        code          : &#x2F;&lt;%([\s\S]+?)%&gt;&#x2F;g,
        escapedOutput : &#x2F;&lt;%=([\s\S]+?)%&gt;&#x2F;g,
        rawOutput     : &#x2F;&lt;%==([\s\S]+?)%&gt;&#x2F;g,
        stringEscape  : &#x2F;(&#x27;|\r|\n|\t|\u2028|\u2029|\\)&#x2F;g
    };

    &#x2F;**
     @property TEMPLATE_ESCAPE
     @static
     *&#x2F;
    MicroTemplate.TEMPLATE_ESCAPE = {
        &#x27;\n&#x27;     : &#x27;\\n&#x27;,
        &#x27;\t&#x27;     : &#x27;\\t&#x27;,
        &#x27;\r&#x27;     : &#x27;\\r&#x27;,
        &#x27;\u2028&#x27; : &#x27;\\u2028&#x27;,
        &#x27;\u2029&#x27; : &#x27;\\u2029&#x27;,
        &#x27;\\&#x27;     : &#x27;\\\\&#x27;
    };

    &#x2F;**
     @property STRING_ESCAPE
     @static
     *&#x2F;
    MicroTemplate.STRING_ESCAPE = {
        &#x27;&amp;&#x27; : &#x27;&amp;amp;&#x27;,
        &#x27;&lt;&#x27; : &#x27;&amp;lt;&#x27;,
        &#x27;&gt;&#x27; : &#x27;&amp;gt;&#x27;,
        &#x27;&quot;&#x27; : &#x27;&amp;quot;&#x27;,
        &quot;&#x27;&quot; : &#x27;&amp;#x27;&#x27;,
        &#x27;&#x2F;&#x27; : &#x27;&amp;#x2F;&#x27;,
        &#x27;&#x60;&#x27; : &#x27;&amp;#x60;&#x27;
    };

    &#x2F;**
     @method escape
     @static
     @param s {String}
     @return {String}
     *&#x2F;
    MicroTemplate.escape = function (s) {
        return (s + &#x27;&#x27;).replace(&#x2F;[&amp;&lt;&gt;&quot;&#x27;\&#x2F;&#x60;]&#x2F;g, function (match) {
            return MicroTemplate.STRING_ESCAPE[match];
        });
    };

    &#x2F;**
     @method render
     @static
     @param text {String}
     @param data {Object}
     @return {String}
     *&#x2F;
    MicroTemplate.render = function (text, data) {
        return MicroTemplate.compile(text)(data);
    };

    &#x2F;**
     @method include
     @static
     @param path {String}
     @param data {Object}
     *&#x2F;
    MicroTemplate.include = function (path, data) {
        &#x2F;* NO-OP *&#x2F;
    };

    &#x2F;**
     @method compile
     @static
     @param text {String}
     @param precompile {Boolean}
     @return {String|Function}
     *&#x2F;
    MicroTemplate.compile = function (text, precompile) {
        var blocks = [],
            tokenClose = &quot;\uffff&quot;,
            tokenOpen = &quot;\ufffe&quot;,
            options = MicroTemplate.OPTIONS,
            source,
            out;

        &#x2F;&#x2F; Parse the input text into a string of JavaScript code, with placeholders
        &#x2F;&#x2F; for code blocks. Text outside of code blocks will be escaped for safe
        &#x2F;&#x2F; usage within a double-quoted string literal.
        source = &quot;var $b=&#x27;&#x27;, $v=function (v){ return v || v === 0 ? v : $b; }, $t=&#x27;&quot; +

            &#x2F;&#x2F; U+FFFE and U+FFFF are guaranteed to represent non-characters, so no
            &#x2F;&#x2F; valid UTF-8 string should ever contain them. That means we can freely
            &#x2F;&#x2F; strip them out of the input text (just to be safe) and then use them
            &#x2F;&#x2F; for our own nefarious purposes as token placeholders!
            &#x2F;&#x2F;
            &#x2F;&#x2F; See http:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Mapping_of_Unicode_characters#Noncharacters
            text.replace(&#x2F;\ufffe|\uffff&#x2F;g, &#x27;&#x27;)

                .replace(options.rawOutput, function (match, code) {
                    return tokenOpen + (blocks.push(&quot;&#x27;+\n$v(&quot; + code + &quot;)+\n&#x27;&quot;) - 1) + tokenClose;
                })

                .replace(options.escapedOutput, function (match, code) {
                    return tokenOpen + (blocks.push(&quot;&#x27;+\n$e($v(&quot; + code + &quot;))+\n&#x27;&quot;) - 1) + tokenClose;
                })

                .replace(options.code, function (match, code) {
                    return tokenOpen + (blocks.push(&quot;&#x27;;\n&quot; + code + &quot;\n$t+=&#x27;&quot;) - 1) + tokenClose;
                })

                .replace(options.stringEscape, function (match) {
                    return MicroTemplate.TEMPLATE_ESCAPE[match];
                })

                &#x2F;&#x2F; Replace the token placeholders with code.
                .replace(&#x2F;\ufffe(\d+)\uffff&#x2F;g, function (match, index) {
                    return blocks[parseInt(index, 10)];
                })

                &#x2F;&#x2F; Remove noop string concatenations that have been left behind.
                .replace(&#x2F;\n\$t\+=&#x27;&#x27;;\n&#x2F;g, &#x27;\n&#x27;) +

            &quot;&#x27;;\nreturn $t;&quot;;

        &#x2F;&#x2F; If compile() was called from precompile(), return precompiled source.

        if (precompile) {
            out = &quot;function (Y, $, $e, data) {\n&quot; + source + &quot;\n}&quot;;
        } else {
            &#x2F;&#x2F; TODO: try&#x2F;catch this
            out = MicroTemplate.revive(new Function(&#x27;Y&#x27;, &#x27;$&#x27;, &#x27;$e&#x27;, &#x27;data&#x27;, source));
        }

        return out;
    };

    &#x2F;**
     @method precompile
     @static
     @param text {String}
     @return {String}
     *&#x2F;
    MicroTemplate.precompile = function (text) {
        return this.compile(text, true);
    };

    &#x2F;**
     @method revive
     @static
     @param precompiled {Function}
     @param {String}
     *&#x2F;
    MicroTemplate.revive = function (precompiled) {
        return function (data) {
            data = data || {};

            data.include = MicroTemplate.include;

            return precompiled.call(data, Y, MicroTemplate.include, MicroTemplate.escape, data);
        }
    };

    NS.MicroTemplate = MicroTemplate;

});

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
