<!doctype html>
<html>
    <head>
        <title>Eve ship</title>
        <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.2.0/pure-min.css">
        <link rel="stylesheet" href="/css/ship.css" />
    </head>
    <body>
        <div id="application">
        </div>

        <script src="/shared/promise.js"></script>
        <script src="/shared/utils.js"></script>
        <script src="/shared/list-promise.js"></script>
        <script src="/js/ajax-promise.js"></script>

        <script>
        collect([
            js(['/shared/micro.js', '/shared/marked.js', '/template/ship.js' ]),
            json('/api/item/24690'),
            json('/api/item/24690/attributes'),
            json('/api/item/24690/skills'),
        ]).then(function(res) {
            var skills = res.pop(),
                attributes = res.pop(),
                ship = res.pop();

            document.getElementById('application').innerHTML = templates['ship'](ship);
        });
        
        </script>
    </body>
</html>